<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ilfan's Poses</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --main: #00ff88; --gold: #ffcc00; --bg: #000000; }
        body { 
            font-family: 'Poppins', sans-serif; 
            background: var(--bg); 
            color: white; 
            margin: 0; 
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Кнопка Профиля (вместо белого прямоугольника) */
        .top-nav {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: flex;
            gap: 15px;
        }

        .user-chip {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 8px 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: 0.3s;
        }

        .user-chip:hover { background: rgba(0, 255, 136, 0.2); border-color: var(--main); }
        .avatar { width: 30px; height: 30px; border-radius: 50%; background: var(--main); color: black; display: flex; align-items: center; justify-content: center; font-weight: bold; }

        /* Твой стиль заголовка */
        header { margin-top: 80px; text-align: center; }
        h1 { 
            font-size: 2.5rem; 
            color: var(--main); 
            text-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
            text-transform: uppercase;
        }

        /* Слайдер из твоего скриншота */
        .main-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 50px;
            gap: 40px;
        }

        .rev-trigger {
            background: rgba(255, 204, 0, 0.1);
            border: 2px solid var(--gold);
            padding: 15px;
            border-radius: 20px;
            cursor: pointer;
            text-align: center;
        }

        .card {
            background: #111;
            border: 2px solid #222;
            border-radius: 30px;
            padding: 20px;
            width: 300px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.8);
        }

        .card img { width: 100%; border-radius: 20px; margin-bottom: 20px; }
        
        .order-btn {
            background: linear-gradient(90deg, #00ff88, #00d4ff);
            color: black;
            border: none;
            padding: 15px 30px;
            border-radius: 15px;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
        }

        /* Модальные окна (темные) */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
            display: none; justify-content: center; align-items: center; z-index: 2000;
        }

        .modal-content {
            background: #111;
            border: 1px solid #333;
            padding: 30px;
            border-radius: 30px;
            width: 90%;
            max-width: 400px;
            color: white;
        }

        .tab { color: #666; cursor: pointer; padding-bottom: 10px; font-weight: bold; }
        .tab.active { color: var(--main); border-bottom: 2px solid var(--main); }

        input {
            width: 100%; background: #222; border: 1px solid #333;
            padding: 12px; border-radius: 12px; color: white; margin-bottom: 10px;
            box-sizing: border-box;
        }

        /* Кнопка удаления для админа */
        .del-btn { color: #ff4d4d; cursor: pointer; float: right; display: none; }
        .admin-active .del-btn { display: block; }
    </style>
</head>
<body>

    <div class="top-nav">
        <div class="user-chip" onclick="toggleAuthModal()">
            <div class="avatar" id="nav-avatar">?</div>
            <span id="nav-username">Login / Register</span>
        </div>
    </div>

    <header><h1>ILFAN'S POSES</h1></header>

    <div class="main-container">
        <div class="rev-trigger" onclick="toggleRev(true)">
            <i class="fas fa-comments" style="color:var(--gold); font-size: 2rem;"></i>
            <div style="color:var(--gold); font-weight: bold; margin-top: 5px;">REVIEWS</div>
        </div>

        <div class="card">
            <img src="pose1.jpg" id="current-img">
            <button class="order-btn" onclick="buy()">ORDER NOW</button>
        </div>
    </div>

    <div class="modal" id="auth-modal">
        <div class="modal-content">
            <div style="display:flex; gap:20px; margin-bottom:20px;">
                <div id="tab-login" class="tab active" onclick="switchTab('login')">Login</div>
                <div id="tab-reg" class="tab" onclick="switchTab('reg')">Register</div>
            </div>
            <input type="text" id="auth-user" placeholder="Username">
            <input type="password" id="auth-pass" placeholder="Password">
            <button class="order-btn" onclick="handleAuth()">Submit</button>
            <button id="logout-btn" style="display:none; width:100%; margin-top:10px; background:none; color:#666; border:none; cursor:pointer;" onclick="logout()">Logout</button>
            <button onclick="toggleAuthModal()" style="width:100%; margin-top:10px; background:none; border:none; color:white; cursor:pointer;">Close</button>
        </div>
    </div>

    <div class="modal" id="rev-modal">
        <div class="modal-content" id="rev-content-area">
            <h2>REVIEWS</h2>
            <div id="rev-list" style="max-height: 300px; overflow-y: auto; margin-bottom: 20px;"></div>
            <p id="writing-status" style="font-size: 0.8rem; color: #888;"></p>
            <input type="text" id="u-msg" placeholder="Your review...">
            <button class="order-btn" onclick="addRev()">Send</button>
            <button onclick="toggleRev(false)" style="width:100%; margin-top:10px; background:none; border:none; color:white; cursor:pointer;">Close</button>
        </div>
    </div>

    <script src="auth.js"></script>
    <script>
        // Скрипт для открытия окон (в дополнение к auth.js)
        function toggleAuthModal() {
            const m = document.getElementById('auth-modal');
            m.style.display = m.style.display === 'flex' ? 'none' : 'flex';
            if(loggedInUser) {
                document.getElementById('auth-user').style.display = 'none';
                document.getElementById('auth-pass').style.display = 'none';
                document.getElementById('logout-btn').style.display = 'block';
            }
        }

        function switchTab(t) {
            document.getElementById('tab-login').classList.toggle('active', t === 'login');
            document.getElementById('tab-reg').classList.toggle('active', t === 'reg');
        }

        function toggleRev(show) {
            if(show && !loggedInUser) { alert("Please login first!"); toggleAuthModal(); return; }
            document.getElementById('rev-modal').style.display = show ? 'flex' : 'none';
            if(show) loadRev();
        }

        function loadRev() {
            const list = document.getElementById('rev-list');
            const saved = JSON.parse(localStorage.getItem('ilfan_reviews') || '[]');
            list.innerHTML = '';
            saved.slice().reverse().forEach((r, index) => {
                const realIndex = saved.length - 1 - index;
                list.innerHTML += `
                    <div style="background:#222; padding:10px; border-radius:10px; margin-bottom:10px;">
                        <span class="del-btn" onclick="deleteRev(${realIndex})">×</span>
                        <b>@${r.name}</b>: ${r.text}
                    </div>
                `;
            });
        }

        function addRev() {
            const t = document.getElementById('u-msg').value;
            if(loggedInUser && t.trim()) {
                const saved = JSON.parse(localStorage.getItem('ilfan_reviews') || '[]');
                saved.push({ name: loggedInUser.name, text: t });
                localStorage.setItem('ilfan_reviews', JSON.stringify(saved));
                document.getElementById('u-msg').value = '';
                loadRev();
            }
        }

        function deleteRev(index) {
            let saved = JSON.parse(localStorage.getItem('ilfan_reviews') || '[]');
            saved.splice(index, 1);
            localStorage.setItem('ilfan_reviews', JSON.stringify(saved));
            loadRev();
        }

        function buy() { window.open("https://t.me/ZakazIlfanaBot", "_blank"); }
    </script>
</body>
</html>

