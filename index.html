<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ilfan's Global Pose Shop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --main: #00ff88; --gold: #ffcc00; --bg: #fdfaf5; --card: #ffffff; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); color: #333; margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; overflow-x: hidden; }
        
        /* –ë–µ–ª—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ —Å–≤–µ—Ä—Ö—É (–¢–æ—Ç —Å–∞–º—ã–π –¥–∏–∑–∞–π–Ω) */
        .top-banner { 
            width: 100%; height: 70px; background: white; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.06); 
            position: fixed; top: 0; left: 0; z-index: 1500;
            display: flex; align-items: center; justify-content: space-between; padding: 0 20px; box-sizing: border-box;
        }

        /* –ë–ª–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è –∏ —è–∑—ã–∫–æ–≤ */
        .auth-controls { display: flex; gap: 10px; align-items: center; }
        .user-chip { display: flex; align-items: center; gap: 8px; background: #f8f8f8; padding: 5px 12px; border-radius: 50px; border: 1px solid #eee; cursor: pointer; transition: 0.2s; }
        .user-chip:hover { background: #f0f0f0; }
        .user-chip .avatar { width: 30px; height: 30px; border-radius: 50%; background: var(--main); color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; }

        .lang-btn { background: #f8f8f8; border: 1px solid #eee; padding: 8px 15px; border-radius: 12px; cursor: pointer; font-weight: bold; color: #444; }
        .lang-list { position: absolute; top: 55px; right: 0; background: white; border: 1px solid #eee; border-radius: 15px; display: none; grid-template-columns: repeat(2, 160px); padding: 10px; gap: 5px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 2000;}
        .lang-list.show { display: grid; }
        .lang-item { padding: 8px; cursor: pointer; border-radius: 8px; font-size: 14px; }
        .lang-item:hover { background: #f0fff8; }

        header { margin-top: 110px; text-align: center; }
        h1 { font-size: 2.2rem; color: #222; text-transform: uppercase; letter-spacing: 2px; margin: 0; }

        /* –°–ª–∞–π–¥–µ—Ä */
        .main-container { position: relative; width: 100%; max-width: 900px; display: flex; justify-content: center; align-items: center; margin-top: 30px; padding: 0 20px; box-sizing: border-box; }
        .open-rev-side { position: absolute; left: 20px; top: 50%; transform: translateY(-50%); text-align: center; cursor: pointer; z-index: 100; }
        .rev-icon-btn { background: white; border: 1px solid #eee; color: var(--gold); width: 60px; height: 60px; border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }

        .slider-box { display: flex; align-items: center; gap: 15px; }
        .card { background: white; border-radius: 25px; overflow: hidden; width: 280px; display: none; box-shadow: 0 10px 30px rgba(0,0,0,0.05); border: 1px solid #f0f0f0; }
        .card.active { display: block; animation: zoomIn 0.4s; }
        .img-box img { width: 100%; aspect-ratio: 1/1; object-fit: cover; display: block; }
        .info { padding: 20px; }
        .order-btn { width: 100%; background: #1a1a1a; color: white; border: none; padding: 14px; border-radius: 12px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .order-btn:hover { background: var(--main); color: black; }
        .arrow { background: none; border: none; cursor: pointer; color: #ccc; font-size: 2.5rem; transition: 0.2s; }
        .arrow:hover { color: #888; }

        /* –ú–æ–¥–∞–ª–∫–∏ */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); backdrop-filter: blur(5px); display: none; justify-content: center; align-items: center; z-index: 3000; }
        .modal-content { background: white; width: 90%; max-width: 380px; border-radius: 30px; padding: 30px; position: relative; box-shadow: 0 20px 60px rgba(0,0,0,0.1); box-sizing: border-box; }
        .modal-tabs { display: flex; gap: 20px; margin-bottom: 20px; border-bottom: 1px solid #eee; }
        .tab { padding-bottom: 10px; cursor: pointer; color: #999; font-weight: bold; }
        .tab.active { color: var(--main); border-bottom: 2px solid var(--main); }

        /* –û—Ç–∑—ã–≤—ã */
        .rev-list { max-height: 350px; overflow-y: auto; margin-bottom: 15px; padding-right: 5px; }
        .rev-item { background: #fafafa; padding: 12px; border-radius: 15px; margin-bottom: 10px; border: 1px solid #f0f0f0; position: relative; display: flex; gap: 12px; }
        .item-avatar { width: 40px; height: 40px; border-radius: 50%; background: #eee; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #666; }
        .del-btn { position: absolute; top: 10px; right: 10px; color: #ff5c5c; cursor: pointer; display: none; }
        .admin-active .del-btn { display: block; }

        input, textarea { width: 100%; background: #f9f9f9; border: 1px solid #eee; padding: 12px; border-radius: 12px; margin-bottom: 10px; box-sizing: border-box; font-family: inherit; font-size: 14px; outline: none; }
        .btn-action { width: 100%; background: var(--gold); border: none; padding: 14px; border-radius: 12px; font-weight: bold; cursor: pointer; font-size: 16px; }

        @keyframes zoomIn { from { opacity: 0; transform: scale(0.97); } to { opacity: 1; transform: scale(1); } }
        @media (max-width: 750px) { .open-rev-side { position: static; transform: none; margin-bottom: 20px; } .main-container { flex-direction: column; } }
    </style>
</head>
<body>

    <div class="top-banner">
        <div class="auth-controls">
            <div id="user-display" onclick="toggleAuthModal()">
                <div class="user-chip">
                    <div class="avatar" id="nav-avatar">?</div>
                    <span id="nav-username">Guest</span>
                </div>
            </div>
        </div>
        <div class="lang-wrapper">
            <button class="lang-btn" onclick="document.getElementById('lang-list').classList.toggle('show')"><i class="fas fa-globe"></i> <span id="cur-lang">EN</span></button>
            <div class="lang-list" id="lang-list">
                <div class="lang-item" onclick="setLang('ru')">üá∑üá∫ –†—É—Å—Å–∫–∏–π</div>
                <div class="lang-item" onclick="setLang('en')">üá∫üá∏ English</div>
                <div class="lang-item" onclick="setLang('am')">üá¶üá≤ ’Ä’°’µ’•÷Ä’•’∂</div>
                <div class="lang-item" onclick="setLang('kk')">üá∞üáø “ö–∞–∑–∞“õ—à–∞</div>
            </div>
        </div>
    </div>

    <header><h1>ILFAN'S POSES</h1></header>

    <div class="main-container">
        <div class="open-rev-side" onclick="toggleRev(true)">
            <div class="rev-icon-btn"><i class="fas fa-comments"></i></div>
            <span style="color:#aaa; font-weight:bold; font-size:0.7rem; letter-spacing: 1px;">REVIEWS</span>
        </div>

        <div class="slider-box">
            <button class="arrow" onclick="change(-1)"><i class="fas fa-chevron-left"></i></button>
            
            <div class="card active"><div class="img-box"><img src="pose1.jpg"></div><div class="info"><button class="order-btn t-buy" onclick="buy()">ORDER NOW</button></div></div>
            <div class="card"><div class="img-box"><img src="pose2.jpg"></div><div class="info"><button class="order-btn t-buy" onclick="buy()">ORDER NOW</button></div></div>
            <div class="card"><div class="img-box"><img src="pose3.jpg"></div><div class="info"><button class="order-btn t-buy" onclick="buy()">ORDER NOW</button></div></div>
            
            <button class="arrow" onclick="change(1)"><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>

    <div class="modal" id="auth-modal">
        <div class="modal-content">
            <span style="position:absolute; top:15px; right:20px; cursor:pointer; font-size:20px;" onclick="toggleAuthModal()">&times;</span>
            <div class="modal-tabs">
                <div id="tab-login" class="tab active" onclick="switchTab('login')">Login</div>
                <div id="tab-reg" class="tab" onclick="switchTab('reg')">Register</div>
            </div>
            <div id="auth-form">
                <input type="text" id="auth-user" placeholder="Username">
                <input type="password" id="auth-pass" placeholder="Password">
                <button class="btn-action" id="auth-submit" onclick="handleAuth()">Submit</button>
                <button class="btn-action" id="logout-btn" style="display:none; margin-top:10px; background:#f0f0f0; color:#333;" onclick="logout()">Logout Account</button>
            </div>
        </div>
    </div>

    <div class="modal" id="rev-modal">
        <div class="modal-content" id="rev-content-area">
            <span style="position:absolute; top:15px; right:20px; cursor:pointer; font-size:20px;" onclick="toggleRev(false)">&times;</span>
            <h2 id="t-rev-head" style="margin:0; font-size:24px;">REVIEWS</h2>
            <div class="rev-list" id="rev-list"></div>
            <div id="rev-form-block">
                <p id="writing-status" style="font-size:0.8rem; color:#888; margin-bottom:8px;"></p>
                <textarea id="u-msg" placeholder="Your review..." rows="3" style="resize:none;"></textarea>
                <button class="btn-action" onclick="addRev()">SEND REVIEW</button>
            </div>
        </div>
    </div>

    <script src="languages.js"></script>
    <script src="auth.js"></script>
    
    <script>
        // –°–ª–∞–π–¥–µ—Ä
        let cur = 0;
        const cards = document.querySelectorAll('.card');
        function change(s) { 
            cards[cur].classList.remove('active'); 
            cur = (cur + s + cards.length) % cards.length; 
            cards[cur].classList.add('active'); 
        }

        // –õ–æ–≥–∏–∫–∞ –º–æ–¥–∞–ª–æ–∫
        function toggleAuthModal() {
            const m = document.getElementById('auth-modal');
            const isVisible = m.style.display === 'flex';
            m.style.display = isVisible ? 'none' : 'flex';
            
            if(loggedInUser) {
                document.getElementById('auth-user').style.display = 'none';
                document.getElementById('auth-pass').style.display = 'none';
                document.getElementById('auth-submit').style.display = 'none';
                document.getElementById('logout-btn').style.display = 'block';
                document.getElementById('tab-reg').style.display = 'none';
            }
        }

        function switchTab(t) {
            document.getElementById('tab-login').classList.toggle('active', t === 'login');
            document.getElementById('tab-reg').classList.toggle('active', t === 'reg');
        }

        function toggleRev(show) { 
            if(show && !loggedInUser) { toggleAuthModal(); return; }
            document.getElementById('rev-modal').style.display = show ? 'flex' : 'none'; 
            if(show) loadRev(); 
        }

        // –†–∞–±–æ—Ç–∞ —Å –æ—Ç–∑—ã–≤–∞–º–∏
        function loadRev() {
            const list = document.getElementById('rev-list');
            const saved = JSON.parse(localStorage.getItem('ilfan_reviews') || '[]');
            list.innerHTML = '';
            saved.slice().reverse().forEach((r, index) => {
                const realIndex = saved.length - 1 - index;
                const item = document.createElement('div');
                item.className = 'rev-item';
                item.innerHTML = `
                    <div class="item-avatar">${r.avatar}</div>
                    <div style="flex-grow:1;"><b>@${r.name}</b><br><span style="font-size:14px; color:#555;">${r.text}</span></div>
                    <div class="del-btn" onclick="deleteRev(${realIndex})"><i class="fas fa-times-circle"></i></div>
                `;
                list.appendChild(item);
            });
        }

        function addRev() {
            const t = document.getElementById('u-msg').value;
            if(loggedInUser && t.trim()) {
                const saved = JSON.parse(localStorage.getItem('ilfan_reviews') || '[]');
                saved.push({ name: loggedInUser.name, avatar: loggedInUser.avatar, text: t });
                localStorage.setItem('ilfan_reviews', JSON.stringify(saved));
                document.getElementById('u-msg').value = '';
                loadRev();
            }
        }

        function deleteRev(index) {
            if(confirm("Delete this review?")) {
                let saved = JSON.parse(localStorage.getItem('ilfan_reviews') || '[]');
                saved.splice(index, 1);
                localStorage.setItem('ilfan_reviews', JSON.stringify(saved));
                loadRev();
            }
        }

        function setLang(l) {
            if (typeof langs !== 'undefined') {
                const d = langs[l] || langs.en;
                document.getElementById('cur-lang').innerText = l.toUpperCase();
                document.getElementById('lang-list').classList.remove('show');
                localStorage.setItem('userLang', l);
                // –¢—É—Ç –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É —Ç–µ–∫—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ ID, –µ—Å–ª–∏ –≤ languages.js –æ–Ω–∏ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã
            }
        }

        function buy() { window.open("https://t.me/ZakazIlfanaBot", "_blank"); }

        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => { setLang(localStorage.getItem('userLang') || 'en'); }, 300);
        });
    </script>
</body>
</html>
